(function(a){a.fn.fixed=function(b){var d={className:"tool-fixed",holderClass:".tool-fixed-holder",zIndex:200,bottomDom:null,width:0,height:0},c=a.extend(d,b);a(this).each(function(){var q=a(this),h=q.height(),l=q.offset(),g=l.top,s=c.bottomDom?a(c.bottomDom).offset().top:100000,e=(c.holderClass&&a(c.holderClass)[0])?q.prev(c.holderClass):null,f=0;var i=!!window.ActiveXObject;var m=i&&!window.XMLHttpRequest;var j=i&&!!document.documentMode;var k=i&&!m&&!j;if(m){q.css({"z-index":c.zIndex,height:(c.height||q.height())+"px",width:(c.width||q.width())+"px"});var u,t=q,p=q.css("position"),n=q.position(),r=n.top,o=(g>=r)?(g-r):0;a(window).bind("scroll",function(){window.clearTimeout(u);u=window.setTimeout(function(){f=a(document).scrollTop();q.addClass(c.className).css({position:"absolute",display:"block"});if(f>=g&&f<=s){if(e){e.show()}q.css({top:(f-o)+"px"});return}if(e){e.hide()}q.css({position:p}).removeClass(c.className)},60)})}else{a(window).scroll(function(){f=a(window).scrollTop();if(f>=g&&f<=s){if(e){e.show()}if(!q.hasClass(c.className)){q.addClass(c.className)}return}q.removeClass(c.className);if(e){e.hide()}})}});if(a(window).scrollTop()>0){a(window).trigger("scroll")}}})(jQuery);
